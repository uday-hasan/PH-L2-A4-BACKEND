enum ORDER_STATUS {
  PENDING
  SHIPPED
  DELIVERED
  CANCELLED
}

model Order {
  id              String       @id @default(uuid())
  customerId      String
  customer        User         @relation("CustomerOrders", fields: [customerId], references: [id])
  totalAmount     Float
  shippingAddress String
  status          ORDER_STATUS @default(PENDING)
  items           OrderItem[]
  createdAt       DateTime     @default(now())
  updatedAt       DateTime     @updatedAt
}

model OrderItem {
  id         String   @id @default(uuid())
  orderId    String
  order      Order    @relation(fields: [orderId], references: [id])
  medicineId String
  medicine   Medicine @relation(fields: [medicineId], references: [id])
  quantity   Int
  price      Float // Price at the time of purchase
}

model Review {
  id         String   @id @default(uuid())
  rating     Int // 1 to 5
  comment    String?
  customerId String
  customer   User     @relation(fields: [customerId], references: [id])
  medicineId String
  medicine   Medicine @relation(fields: [medicineId], references: [id])
  createdAt  DateTime @default(now())
}
