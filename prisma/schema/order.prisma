model Order {
  id              String       @id @default(uuid())
  customerId      String
  totalAmount     Float
  shippingAddress String
  status          ORDER_STATUS @default(PENDING)
  createdAt       DateTime     @default(now())
  updatedAt       DateTime     @updatedAt
  customer        User         @relation("CustomerOrders", fields: [customerId], references: [id])
  items           OrderItem[]
}

model OrderItem {
  id         String   @id @default(uuid())
  orderId    String
  medicineId String
  quantity   Int
  price      Float
  medicine   Medicine @relation(fields: [medicineId], references: [id])
  order      Order    @relation(fields: [orderId], references: [id])
}

model Review {
  id         String   @id @default(uuid())
  rating     Int
  comment    String?
  customerId String
  medicineId String
  createdAt  DateTime @default(now())
  customer   User     @relation(fields: [customerId], references: [id])
  medicine   Medicine @relation(fields: [medicineId], references: [id])
}

enum ORDER_STATUS {
  PENDING
  SHIPPED
  DELIVERED
  CANCELLED
}
